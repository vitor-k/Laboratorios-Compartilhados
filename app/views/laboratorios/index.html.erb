<p id="notice"><%= notice %></p>

<h1>Lista de Laboratórios</h1>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Nome</th>
      <th scope="col">Localização</th>
      <th scope="col">Descrição</th>
      <th scope="col">Responsável</th>
      <th colspan="3" scope="col"></th>
    </tr>
  </thead>

  <tbody>
    <% @laboratorios.each do |laboratorio| %>
      <tr>
        <td><%= laboratorio.nome %></td>
        <td><%= laboratorio.localizacao %></td>
        <td><%= laboratorio.descricao %></td>
        <% if laboratorio.responsavel == nil %>
          <td>Sem responsável</td>
        <% else %>
          <td><%= laboratorio.responsavel.user.nome %></td>
        <% end %>
        <td><%= link_to 'Mostrar', laboratorio %></td>
        <% if admin_signed_in? %>
          <td><%= link_to 'Editar', edit_laboratorio_path(laboratorio) %></td>
          <td><%= link_to 'Deletar', laboratorio, method: :delete, data: { confirm: 'Confirmar?' }, class: 'text-danger' %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if admin_signed_in? %>
<%= link_to 'Novo Laboratório', new_laboratorio_path %>
<% end %>
